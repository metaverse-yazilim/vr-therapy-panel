/**
 * Angular Dynamic Locale - 0.1.37
 * https://github.com/lgalfaso/angular-dynamic-locale
 * License: MIT
 */

!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(0,function(){"use strict";return angular.module("tmh.dynamicLocale",[]).config(["$provide",function(e){function t(e){return e.$stateful=!0,e}e.decorator("dateFilter",["$delegate",t]),e.decorator("numberFilter",["$delegate",t]),e.decorator("currencyFilter",["$delegate",t])}]).constant("tmhDynamicLocale.STORAGE_KEY","tmhDynamicLocale.locale").provider("tmhDynamicLocale",["tmhDynamicLocale.STORAGE_KEY",function(e){var u,s,d,f,g="angular/i18n/angular-locale_{{locale}}.js",h="tmhDynamicLocaleStorageCache",m=e,y="get",p="put",$={},v={};function L(e,t,o,n,a,r,c){function i(n,a){f===o&&(angular.forEach(n,function(e,t){a[t]?angular.isArray(a[t])&&(n[t].length=a[t].length):delete n[t]}),angular.forEach(a,function(e,t){angular.isArray(a[t])||angular.isObject(a[t])?(n[t]||(n[t]=angular.isArray(a[t])?[]:{}),i(n[t],a[t])):n[t]=a[t]}))}if($[o])return $[f=o];var l,u=a.defer();return o===f?u.resolve(t):(l=r.get(o))?(f=o,n.$evalAsync(function(){i(t,l),d[p](m,o),n.$broadcast("$localeChangeSuccess",o,t),u.resolve(t)})):($[f=o]=u.promise,function(e,t,n,a){var o=document.createElement("script"),r=s||document.getElementsByTagName("body")[0],c=!1;o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"complete"!==o.readyState&&"loaded"!==o.readyState||(o.onreadystatechange=null,a(function(){c||(c=!0,o.parentNode===r&&r.removeChild(o),t())},30,!1))}:(o.onload=function(){c||(c=!0,o.parentNode===r&&r.removeChild(o),t())},o.onerror=function(){c||(c=!0,o.parentNode===r&&r.removeChild(o),n())}),o.src=e,o.async=!0,r.appendChild(o)}(e,function(){var e=angular.injector(["ngLocale"]).get("$locale");i(t,e),r.put(o,e),delete $[o],n.$applyAsync(function(){d[p](m,o),n.$broadcast("$localeChangeSuccess",o,t),u.resolve(t)})},function(){delete $[o],n.$applyAsync(function(){f===o&&(f=t.id),n.$broadcast("$localeChangeError",o),u.reject(o)})},c)),u.promise}this.localeLocationPattern=function(e){return e?(g=e,this):g},this.appendScriptTo=function(e){s=e},this.useStorage=function(e){h=e,y="get",p="put"},this.useCookieStorage=function(){angular.version.minor<7?this.useStorage("$cookieStore"):(this.useStorage("$cookies"),y="getObject",p="putObject")},this.defaultLocale=function(e){u=e},this.storageKey=function(e){return e?(m=e,this):m},this.addLocalePatternValue=function(e,t){v[e]=t},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(n,e,t,a,o,r,c){var i=t(g);return d=e.get(h),n.$evalAsync(function(){var e;(e=d[y](m)||u)&&l(e)}),{set:l,get:function(){return f}};function l(e){var t={locale:e,angularVersion:angular.version.full};return L(i(angular.extend({},v,t)),a,e,n,o,r,c)}}]}]).provider("tmhDynamicLocaleCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales")}]}).provider("tmhDynamicLocaleStorageCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales.store")}]}).run(["tmhDynamicLocale",angular.noop]),"tmh.dynamicLocale"});
//# sourceMappingURL=tmhDynamicLocale.min.js.map